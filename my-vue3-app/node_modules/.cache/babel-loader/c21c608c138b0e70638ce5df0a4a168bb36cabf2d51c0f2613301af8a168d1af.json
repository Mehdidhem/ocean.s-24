{"ast":null,"code":"const express = require('express');\nconst http = require('http');\nconst PORT = 8080;\nmodule.exports = PORT;\nconst app = express();\nconst server = http.createServer(app);\nconst path = require('path');\nconst io = require(\"socket.io\")(server, {\n  cors: {\n    origin: [`http://localhost:${PORT}`, `http://172.20.10.13:${PORT}`],\n    //origin: ['http://localhost:8080','http://172.20.10.13:8080'],\n    methods: [\"GET\", \"POST\"]\n  }\n});\napp.use(express.static(path.join(__dirname, '../dist')));\napp.get('/userpage', (req, res) => {\n  res.sendFile(path.join(__dirname, '../dist', 'user.html'));\n});\napp.get('/datapage', (req, res) => {\n  res.sendFile(path.join(__dirname, '../dist', 'data.html'));\n});\nio.on('connection', socket => {\n  console.log('A user connected');\n  socket.on('send message', msg => {\n    io.emit('new message', msg);\n  });\n});\nserver.listen(PORT, () => console.log(`Server running on port ${PORT}`));","map":{"version":3,"names":["express","require","http","PORT","module","exports","app","server","createServer","path","io","cors","origin","methods","use","static","join","__dirname","get","req","res","sendFile","on","socket","console","log","msg","emit","listen"],"sources":["C:/Users/JieZHANG/Desktop/ocean.s-24/my-vue3-app/server/app.js"],"sourcesContent":["const express = require('express');\r\nconst http = require('http');\r\n\r\nconst PORT = 8080;\r\nmodule.exports = PORT;\r\n\r\n\r\nconst app = express();\r\nconst server = http.createServer(app);\r\n\r\nconst path = require('path')\r\n\r\nconst io = require(\"socket.io\")(server, {\r\n    cors: {\r\n      origin: [`http://localhost:${PORT}`,`http://172.20.10.13:${PORT}`],\r\n      //origin: ['http://localhost:8080','http://172.20.10.13:8080'],\r\n      methods: [\"GET\", \"POST\"]\r\n    }\r\n  });\r\n  \r\napp.use(express.static(path.join(__dirname, '../dist')));\r\n\r\napp.get('/userpage', (req, res) => {\r\n  res.sendFile(path.join(__dirname, '../dist', 'user.html'));\r\n});\r\n\r\napp.get('/datapage', (req, res) => {\r\n  res.sendFile(path.join(__dirname, '../dist', 'data.html'));\r\n});\r\n\r\n\r\nio.on('connection', (socket) => {\r\n  console.log('A user connected');\r\n\r\n  socket.on('send message', (msg) => {\r\n\r\n    io.emit('new message', msg);\r\n\r\n  });\r\n});\r\n\r\n\r\nserver.listen( PORT, () => console.log(`Server running on port ${PORT}`));\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAE5B,MAAME,IAAI,GAAG,IAAI;AACjBC,MAAM,CAACC,OAAO,GAAGF,IAAI;AAGrB,MAAMG,GAAG,GAAGN,OAAO,CAAC,CAAC;AACrB,MAAMO,MAAM,GAAGL,IAAI,CAACM,YAAY,CAACF,GAAG,CAAC;AAErC,MAAMG,IAAI,GAAGR,OAAO,CAAC,MAAM,CAAC;AAE5B,MAAMS,EAAE,GAAGT,OAAO,CAAC,WAAW,CAAC,CAACM,MAAM,EAAE;EACpCI,IAAI,EAAE;IACJC,MAAM,EAAE,CAAE,oBAAmBT,IAAK,EAAC,EAAE,uBAAsBA,IAAK,EAAC,CAAC;IAClE;IACAU,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM;EACzB;AACF,CAAC,CAAC;AAEJP,GAAG,CAACQ,GAAG,CAACd,OAAO,CAACe,MAAM,CAACN,IAAI,CAACO,IAAI,CAACC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;AAExDX,GAAG,CAACY,GAAG,CAAC,WAAW,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACjCA,GAAG,CAACC,QAAQ,CAACZ,IAAI,CAACO,IAAI,CAACC,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;AAC5D,CAAC,CAAC;AAEFX,GAAG,CAACY,GAAG,CAAC,WAAW,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACjCA,GAAG,CAACC,QAAQ,CAACZ,IAAI,CAACO,IAAI,CAACC,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;AAC5D,CAAC,CAAC;AAGFP,EAAE,CAACY,EAAE,CAAC,YAAY,EAAGC,MAAM,IAAK;EAC9BC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;EAE/BF,MAAM,CAACD,EAAE,CAAC,cAAc,EAAGI,GAAG,IAAK;IAEjChB,EAAE,CAACiB,IAAI,CAAC,aAAa,EAAED,GAAG,CAAC;EAE7B,CAAC,CAAC;AACJ,CAAC,CAAC;AAGFnB,MAAM,CAACqB,MAAM,CAAEzB,IAAI,EAAE,MAAMqB,OAAO,CAACC,GAAG,CAAE,0BAAyBtB,IAAK,EAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}