(function(){"use strict";var e={6483:function(e,t,n){var o=n(3751),a=(n(4114),n(641)),i=n(33),l=n(327),u=n(953),s=n.p+"img/i1.4081aa7d.png",r=n.p+"img/i2.b39283f8.png",c=n.p+"img/i3.14d512a6.png",d=n.p+"img/v1.91ae6d59.png",v=n.p+"img/v2.479e0815.png",p=n.p+"img/v3.7ed7aeb0.png",m=n.p+"img/v4.699d460b.png";const g={id:"app"},f=(0,a.Lk)("header",null,[(0,a.Lk)("h1",null,"Green Data")],-1),y={class:"chat-window"},h={class:"chat-window"},k=(0,a.Lk)("div",{id:"init-message",class:"message"},"Salut ! Envoie-moi des messages, photos ou vidéos pour voir le trajet de tes données en temps réel !",-1),b={key:0},w=["src"],L=["src"],C={class:"chat-input"},E={class:"chat-input-buttons"},O=(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"em",viewBox:"0 0 256 256"},[(0,a.Lk)("path",{fill:"currentColor",d:"M224 160V48a16 16 0 0 0-16-16H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16v-48ZM208 48v92.7L179.3 112a16.1 16.1 0 0 0-22.6 0L112 156.7L91.3 136a16.1 16.1 0 0 0-22.6 0L48 156.7V48Zm0 160H48v-28.7l32-32l20.7 20.7a16.1 16.1 0 0 0 22.6 0l44.7-44.7l40 40V208ZM91.5 100.5A11.9 11.9 0 0 1 88 92a12 12 0 0 1 24 0a12 12 0 0 1-12 12a12.3 12.3 0 0 1-8.5-3.5Z"})],-1),x=[O],S=(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 256 256"},[(0,a.Lk)("path",{fill:"currentColor",d:"M244 73.1a7.7 7.7 0 0 0-8 0l-44 25.1V92a40 40 0 0 0-40-40H24A16 16 0 0 0 8 68v96a40 40 0 0 0 40 40h128a16 16 0 0 0 16-16v-30.2l44 25.1a8.3 8.3 0 0 0 4 1.1a8 8 0 0 0 4-1.1a7.8 7.8 0 0 0 4-6.9V80a7.8 7.8 0 0 0-4-6.9ZM176 188H48a24.1 24.1 0 0 1-24-24V68h128a24.1 24.1 0 0 1 24 24v96Zm56-25.8l-40-22.8v-22.8l40-22.8Z"})],-1),V=[S],M={class:"image-list"},_=["src","onClick"],K={class:"image-list"},X=["src","onClick"];var j={__name:"App",setup(e){const t=(0,l.io)("ws://hyblab.polytech.univ-nantes.fr/ocean-2/"),n=(0,u.KR)(""),O=(0,u.KR)(!1),S=(0,u.KR)(!1),j=(0,u.KR)("btt"),R=(0,u.KR)([s,r,c]),Z=(0,u.KR)([d,v,p,m]),D=(0,u.KR)([]),F=`${q(1,255)}.${q(1,255)}.${q(1,255)}.${q(1,255)}`;function q(e,t){return String(Math.floor(Math.random()*(t-e)+e))}function H(e,o){const a=F;if("text"===e&&n.value.trim()){const o={id:Date.now(),type:e,content:n.value,address:a};D.value.push(o),t.emit("send message",o),n.value=""}else if("image"===e&&o){const n={id:Date.now(),type:e,content:o,address:a};D.value.push(n),t.emit("send message",n),O.value=!1}else if("video"===e&&o){const n={id:Date.now(),type:e,content:o,address:a};D.value.push(n),t.emit("send message",n),S.value=!1}}return document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#inputmsg"),t=document.querySelector(".chat-window"),n=document.querySelector(".chat-send"),o=document.querySelector("#image-button"),a=document.querySelector("#video-button");e.addEventListener("focus",(()=>{n.style.display="block",o.style.display="none",a.style.display="none"})),t.addEventListener("DOMNodeInserted",(e=>{e.target.parentNode.className==t.className&&(n.style.display="none",o.style.display="flex",a.style.display="flex",window.scrollTo(0,document.body.scrollHeight))}))})),(e,t)=>{const l=(0,a.g2)("el-drawer");return(0,a.uX)(),(0,a.CE)("div",g,[f,(0,a.Lk)("div",y,[(0,a.Lk)("div",h,[k,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(D.value,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"message right",key:e.id},["text"===e.type?((0,a.uX)(),(0,a.CE)("div",b,(0,i.v_)(e.content),1)):"image"===e.type?((0,a.uX)(),(0,a.CE)("img",{key:1,src:e.content,alt:"Sent Image"},null,8,w)):"video"===e.type?((0,a.uX)(),(0,a.CE)("img",{key:2,src:e.content,alt:"Sent Video"},null,8,L)):(0,a.Q3)("",!0)])))),128))])]),(0,a.Lk)("div",C,[(0,a.bo)((0,a.Lk)("input",{id:"inputmsg","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),placeholder:"Écrivez un message…"},null,512),[[o.Jo,n.value]]),(0,a.Lk)("div",E,[(0,a.Lk)("button",{id:"image-button",style:{},onClick:t[1]||(t[1]=e=>O.value=!0)},x),(0,a.Lk)("button",{id:"video-button",style:{},onClick:t[2]||(t[2]=e=>S.value=!0)},V),(0,a.bF)(l,{modelValue:O.value,"onUpdate:modelValue":t[3]||(t[3]=e=>O.value=e),title:"Envoyer une image",direction:j.value,size:"50%"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",M,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(R.value,(e=>((0,a.uX)(),(0,a.CE)("img",{src:e,key:e,onClick:t=>H("image",e),class:"image-item"},null,8,_)))),128))])])),_:1},8,["modelValue","direction"]),(0,a.bF)(l,{modelValue:S.value,"onUpdate:modelValue":t[4]||(t[4]=e=>S.value=e),title:"Envoyer une vidéo",direction:j.value,size:"50%"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",K,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Z.value,(e=>((0,a.uX)(),(0,a.CE)("img",{src:e,key:e,onClick:t=>H("video",e),class:"image-item"},null,8,X)))),128))])])),_:1},8,["modelValue","direction"]),(0,a.Lk)("button",{class:"chat-send",onClick:t[5]||(t[5]=e=>H("text",n.value.value))}," Envoyer ")])])])}}};const R=j;var Z=R,D=n(1445);n(4188);const F=(0,o.Ef)(Z);F.use(D.A),F.mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,i){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],i=e[c][2];for(var u=!0,s=0;s<o.length;s++)(!1&i||l>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(u=!1,i<l&&(l=i));if(u){e.splice(c--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/ocean-2/"}(),function(){var e={806:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,l=o[0],u=o[1],s=o[2],r=0;if(l.some((function(t){return 0!==e[t]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(s)var c=s(n)}for(t&&t(o);r<l.length;r++)i=l[r],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkmy_vue3_app"]=self["webpackChunkmy_vue3_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(6483)}));o=n.O(o)})();
//# sourceMappingURL=user.da5ba4d0.js.map